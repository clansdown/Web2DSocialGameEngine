# POST /api/updateProfile

Update user profile settings including adult status, displayName, and safeDisplayName.

## Request

```json
{
  "auth": {
    "username": "player_name",
    "token": "xxx"
  },
  "adult": true,
  "displayName": "CoolPlayer123",
  "word1": "Fire",
  "word2": "Knight"
}
```

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| auth | object | Yes | Authentication object (see below) |
| adult | boolean | No | Change adult status (clears displayName if set to false) |
| displayName | string | No | Custom display name (only allowed if adult=true) |
| word1 | string | No | First word to regenerate safeDisplayName |
| word2 | string | No | Second word to regenerate safeDisplayName |

**Authentication object:**

| Field | Type | Description |
|-------|------|-------------|
| username | string | Account username |
| token | string | Authentication token (alternative to password) |

## Response

### Success (200 OK)

```json
{
  "status": "ok",
  "data": {
    "adult": true,
    "displayName": "CoolPlayer123",
    "safeDisplayName": "FireKnight",
    "token": "hex_token_string"
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| adult | boolean | Current adult status |
| displayName | string | Current display name (empty if adult=false) |
| safeDisplayName | string | Current safe display name (regenerated if word1/word2 provided) |
| token | string | Updated authentication token |

### Error (400 Bad Request)

```json
{
  "status": "ok",
  "data": {},
  "error": "authentication required"
}
```

```json
{
  "status": "ok",
  "data": {},
  "error": "displayName can only be set if adult is true"
}
```

```json
{
  "status": "ok",
  "data": {},
  "error": "Invalid word1 or word2 - words must exist in safe word lists"
}
```

## Implementation Notes

- **displayName restrictions**: Cannot be set if `adult=false`
- **Adult status changes**: Setting `adult=false` clears the `displayName` field
- **safeDisplayName regeneration**: To regenerate safeDisplayName, provide both `word1` and `word2`
  - Both words must exist in their respective safe word files
  - A unique name is generated by appending a number if duplicates exist
- **Partial updates**: Any subset of fields can be updated

## Examples

### Enable adult mode and set displayName

```json
{
  "auth": { "username": "player1", "token": "abc123" },
  "adult": true,
  "displayName": "EpicGamer"
}
```

### Change safe display name

```json
{
  "auth": { "username": "player1", "token": "abc123" },
  "word1": "Storm",
  "word2": "Wolf"
}
```

### Disable adult mode (clears displayName)

```json
{
  "auth": { "username": "player1", "token": "abc123" },
  "adult": false
}
```

## Implementation Status

- Implemented